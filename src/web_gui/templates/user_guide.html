<!-- 
  - @(#) user_guide.html 0.4 29/04/2024 
  - Copyright (c) 2024 Aberystwyth Univeristy
  - All rights reserved
-->

<!-- 
  - @author Bilal Yousufzai [biy1]
  - This HTML file is a user guide for the Trail Tracer GUI. It provides information on how to use the GUI. 
-->

 
 <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Robot Control Web GUI</title>
     <!-- Link to CSS file -->
     <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
     <link rel="stylesheet" href="{{ url_for('static', filename='css/gui_css.css') }}">
     <link rel="stylesheet" href="{{ url_for('static', filename='css/user_guide_style/user_guide.css') }}">
     <link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
 </head>
 <body>
     <div id="gui-container">
         <header>
             <div class="header-container">
                 <h1>User Guide For Trail Tracer</h1>
                 <button id="settings-button"><i class="fas fa-cog"></i></button>
                 <!-- Settings popup menu -->
                 <div id="settings-menu" class="settings-popup" style="display: none;"> <!-- Initially hidden -->
                     <ul class="settings-list">
                         <li><a href="/">Trail Tracer</a></li>
                         <li class="has-submenu"><a href="/#">Supported Sites</a>
                            <ul class="submenu">
                                <li><a href="/traethlin">old Traethlin</a></li>
                                <!-- More sites here for future additions-->
                            </ul>
                        </li>
                     </ul>
                 </div>
             </div>
             <div id="info">
                <p style="font-size: 18; font-weight: bold;">
                    Infomation on how to operate the Trail Tracer GUI can be found below.<br>
                    Just click on any topic of question and you will hopefully find your answer.
                </p>
             </div>
         </header>
        </article>
        <div>
            <h2>Automatic Mode Guide</h2>
            <article class="article-class">
                <button class="dropdown-toggle">How To Plot A Trail</button>
                <div class="dropdown-content" style="display: none;">
                    <p>To plot a trail follow these steps:<br>
                        <ol>
                            <li>Click the "Plot Trail" button.</li>
                            <li>Click the map to create new plots.</li>
                            <li>When you are happy with your trail, click "Save".</li>
                            <li>Enter a name for your trail in the popup prompt and click "save trail name" button</li>
                        </ol>
                    </p>
                    <video width="896" height="964" controls>
                        <source src="{{ url_for('static', filename='util/how_to_videos/how_to_plot_a_trail.mp4') }}" type="video/mp4">
                    </video>
                </div>
            </article>
            <article class="article-class">
                <button class="dropdown-toggle">How To Load A Recorded Trail</button>
                <div class="dropdown-content" style="display: none;">
                    <p>To load and trace a stored trail follow these steps:</p>
                    <ol>
                        <li>Click the "Load Trail" button.</li>
                        <li>Choose a file a file and click start.</li>
                        <li>To pause trrail trace, click pause or hit the space bar to emergency stop.</li>
                        <li>To quit the trail tracing, clik "End" button and then the "Quit" button in the prompt</li>
                    </ol>
                    <p> NOTE: If trail tracing is completed, GUI will bring you back to either choose a new file or plot a new one. 
                        If a file with coordinates spaced over 100m, trail within file will not be traced unless nav2_no_map_params.yaml
                        parameters global_costmap: height and width are increased.
                    </p>
                </div>
            </article>
        </div>
        </article>
        <h2>Manual Mode Guide</h2>
        <article  class="article-class">
            <button class="dropdown-toggle">How To Record A Trail</button>
            <div class="dropdown-content" style="display: none;">
                <p>To record a trail follow these steps: <br>
                    <ol>
                        <li>Click the "Switch to Manual Navigation" button.</li>
                        <li>Click the "Record Trail" Button.</li>
                        <li>Enter a name for the trail in the prompt and click "save trail name".</li>
                        <li>Use the joystick to navigate and record a trail</li>
                        <li>When happy you are happy with the trail, click the "End" button.</li>
                    </ol> 
                    The recorded trail can be found in the /trails folder.  
                </p>
                <video width="896" height="964" controls>
                    <source src="{{ url_for('static', filename='util/how_to_videos/how_to_record_a_trail.mp4') }}" type="video/mp4">
                </video>
            </div>
        </article>  
        <article  class="article-class">
            <button class="dropdown-toggle">How To Manually Move Robot Without Recording A Trail</button>
            <div class="dropdown-content" style="display: none;">
                <p>To Manually move robot without creating a trail follow these steps: <br>
                    <ol>
                        <li>Click the "Switch to Manual Navigation" button.</li>
                        <li>Click the "Manually Move Robot" Button.</li>
                        <li>Use the joystick to navigate</li>
                        <li>When done navigating, click the "Stop" button.</li>
                    </ol> 
                </p>
                <video width="896" height="964" controls>
                    <source src="{{ url_for('static', filename='util/how_to_videos/how_to_record_a_trail.mp4') }}" type="video/mp4">
                </video>
            </div>
        </article> 
     </div>
   
     <!-- Link to JavaScript files -->
     <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
     <script src="{{ url_for('static', filename='js/user_guide/user_guide.js') }}"></script>
     <!-- <script src="{{ url_for('static', filename='js/gui_script.js') }}"></script> -->
     <script src="{{ url_for('static', filename='js/dashboard_event_listeners.js') }}"></script>
     <!-- <script src="{{ url_for('static', filename='js/prompt_event_listners.js') }}"></script> -->
     <script src="{{ url_for('static', filename='js/settings.js') }}"></script>
     <!-- <script src="{{ url_for('static', filename='js/map_ui.js') }}"></script> -->
     <!-- Include nipplejs for the joystick -->
     <script src="https://cdn.jsdelivr.net/npm/nipplejs"></script>
 </body>
 </html>
 